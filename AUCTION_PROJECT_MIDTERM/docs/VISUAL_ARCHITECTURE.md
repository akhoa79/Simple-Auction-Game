# ğŸ“ KIáº¾N TRÃšC Há»† THá»NG - VISUAL GUIDE

## ğŸ—ï¸ Tá»•ng quan kiáº¿n trÃºc

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SERVER PROCESS                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              main_server.py (NgÆ°á»i 1)                     â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚  Socket Listener (Port 9999)                        â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  - Bind to 0.0.0.0:9999                            â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  - Listen for connections                           â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  - Accept loop â™¾ï¸                                   â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         AuctionHub (NgÆ°á»i 2)                             â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚
â”‚  â”‚  â”‚  clients = {socket1: "Client-1",                    â”‚â”‚  â”‚
â”‚  â”‚  â”‚             socket2: "Client-2",                    â”‚â”‚  â”‚
â”‚  â”‚  â”‚             socket3: "Client-3"}                    â”‚â”‚  â”‚
â”‚  â”‚  â”‚  + broadcast_new_price()                            â”‚â”‚  â”‚
â”‚  â”‚  â”‚  + broadcast_winner()                               â”‚â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         AuctionState (NgÆ°á»i 2)                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚
â”‚  â”‚  â”‚  ğŸ”’ Lock                                            â”‚â”‚  â”‚
â”‚  â”‚  â”‚  current_price = 2500                               â”‚â”‚  â”‚
â”‚  â”‚  â”‚  current_winner = "Binh"                            â”‚â”‚  â”‚
â”‚  â”‚  â”‚  + place_bid(user, value) â† Thread-safe!           â”‚â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         TimerThread (NgÆ°á»i 4)                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚
â”‚  â”‚  â”‚  â° Countdown: 120 seconds                          â”‚â”‚  â”‚
â”‚  â”‚  â”‚  - Warning at 10s, 5s                               â”‚â”‚  â”‚
â”‚  â”‚  â”‚  - Broadcast WINNER when done                       â”‚â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚  Thread 1 â”‚  â”‚  Thread 2 â”‚  â”‚  Thread 3 â”‚  â† ClientThreads  â”‚
â”‚  â”‚ Client-1  â”‚  â”‚ Client-2  â”‚  â”‚ Client-3  â”‚     (NgÆ°á»i 1)     â”‚
â”‚  â”‚           â”‚  â”‚           â”‚  â”‚           â”‚                    â”‚
â”‚  â”‚ recv() â™¾ï¸ â”‚  â”‚ recv() â™¾ï¸ â”‚  â”‚ recv() â™¾ï¸ â”‚                    â”‚
â”‚  â”‚ handle    â”‚  â”‚ handle    â”‚  â”‚ handle    â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚        â”‚              â”‚              â”‚                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚              â”‚              â”‚
         â”‚ TCP/IP       â”‚ TCP/IP       â”‚ TCP/IP
         â”‚ Socket       â”‚ Socket       â”‚ Socket
         â”‚              â”‚              â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
    â”‚ CLIENT 1â”‚    â”‚ CLIENT 2â”‚    â”‚ CLIENT 3â”‚
    â”‚         â”‚    â”‚         â”‚    â”‚         â”‚
    â”‚  "An"   â”‚    â”‚ "Binh"  â”‚    â”‚ "Cuong" â”‚
    â”‚         â”‚    â”‚         â”‚    â”‚         â”‚
    â”‚ BID:    â”‚    â”‚ BID:    â”‚    â”‚ BID:    â”‚
    â”‚  1500 â†’ â”‚    â”‚  1800 â†’ â”‚    â”‚  2000 â†’ â”‚
    â”‚         â”‚    â”‚         â”‚    â”‚         â”‚
    â”‚ â† NEW   â”‚    â”‚ â† NEW   â”‚    â”‚ â† NEW   â”‚
    â”‚   PRICE â”‚    â”‚   PRICE â”‚    â”‚   PRICE â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Flow: Client gá»­i BID

```
CLIENT (An)                                 SERVER
   â”‚                                           â”‚
   â”‚  1. Connect                               â”‚
   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚
   â”‚                                           â”‚ 2. Accept
   â”‚                                           â”‚    Create ClientThread
   â”‚                                           â”‚    Add to AuctionHub
   â”‚                                           â”‚
   â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ 3. Send WELCOME
   â”‚  {"type":"WELCOME", "current_price":1000} â”‚
   â”‚                                           â”‚
   â”‚  4. User nháº­p: 1500                       â”‚
   â”‚  {"type":"BID", "user":"An", "value":1500}â”‚
   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚
   â”‚                                           â”‚
   â”‚                                     â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
   â”‚                                     â”‚ClientThreadâ”‚
   â”‚                                     â”‚ handle_msg â”‚
   â”‚                                     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
   â”‚                                           â”‚
   â”‚                                     â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚                                     â”‚AuctionState  â”‚
   â”‚                                     â”‚ğŸ”’ LOCK       â”‚
   â”‚                                     â”‚place_bid()   â”‚
   â”‚                                     â”‚ value > cur? â”‚
   â”‚                                     â”‚ YES â†’ Accept â”‚
   â”‚                                     â”‚ cur = 1500   â”‚
   â”‚                                     â”‚ winner = "An"â”‚
   â”‚                                     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚                                           â”‚
   â”‚                                     â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚                                     â”‚ AuctionHub   â”‚
   â”‚                                     â”‚ broadcast()  â”‚
   â”‚                                     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚                                           â”‚
   â”‚ <â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
CLIENT An                                   â•‘  â”‚
   â”‚ {"type":"NEW_PRICE","user":"An",     â•‘  â”‚
   â”‚  "value":1500}                        â•‘  â”‚
                                           â•‘  â”‚
CLIENT Binh                                â•‘  â”‚
   â”‚ <â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â• â”‚
   â”‚ {"type":"NEW_PRICE","user":"An",     â•‘  â”‚
   â”‚  "value":1500}                        â•‘  â”‚
                                           â•‘  â”‚
CLIENT Cuong                               â•‘  â”‚
   â”‚ <â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
   â”‚ {"type":"NEW_PRICE","user":"An",         â”‚
   â”‚  "value":1500}                            â”‚
```

---

## ğŸ”’ Lock Mechanism (Thread-Safe)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     RACE CONDITION                            â”‚
â”‚  Without Lock - âŒ WRONG!                                     â”‚
â”‚                                                                â”‚
â”‚  Thread 1 (An: 1500)     Thread 2 (Binh: 1800)              â”‚
â”‚       â”‚                         â”‚                             â”‚
â”‚       â”‚ Read: cur = 1000        â”‚                             â”‚
â”‚       â”‚ Check: 1500 > 1000? âœ“   â”‚                             â”‚
â”‚       â”‚                         â”‚ Read: cur = 1000            â”‚
â”‚       â”‚                         â”‚ Check: 1800 > 1000? âœ“       â”‚
â”‚       â”‚ Write: cur = 1500       â”‚                             â”‚
â”‚       â”‚                         â”‚ Write: cur = 1800           â”‚
â”‚       â”‚                         â”‚                             â”‚
â”‚  Result: cur = 1800 (Binh wins)                               â”‚
â”‚  But An bid first! â† WRONG!                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     WITH LOCK                                 â”‚
â”‚  âœ… CORRECT!                                                  â”‚
â”‚                                                                â”‚
â”‚  Thread 1 (An: 1500)     Thread 2 (Binh: 1800)              â”‚
â”‚       â”‚                         â”‚                             â”‚
â”‚       â”‚ ğŸ”’ Acquire Lock         â”‚                             â”‚
â”‚       â”‚ Read: cur = 1000        â”‚                             â”‚
â”‚       â”‚ Check: 1500 > 1000? âœ“   â”‚                             â”‚
â”‚       â”‚ Write: cur = 1500       â”‚ ğŸš« WAIT (Lock held by T1)  â”‚
â”‚       â”‚ ğŸ”“ Release Lock         â”‚                             â”‚
â”‚       â”‚                         â”‚ ğŸ”’ Acquire Lock             â”‚
â”‚       â”‚                         â”‚ Read: cur = 1500            â”‚
â”‚       â”‚                         â”‚ Check: 1800 > 1500? âœ“       â”‚
â”‚       â”‚                         â”‚ Write: cur = 1800           â”‚
â”‚       â”‚                         â”‚ ğŸ”“ Release Lock             â”‚
â”‚                                                                â”‚
â”‚  Result: cur = 1800 (Binh wins)                               â”‚
â”‚  Because 1800 > 1500 â† CORRECT!                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Code implementation:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  def place_bid(self, user, value):    â”‚
â”‚      with self.lock:  # â† CRITICAL    â”‚
â”‚          if value > self.current_price:â”‚
â”‚              self.current_price = valueâ”‚
â”‚              self.current_winner = userâ”‚
â”‚              return True               â”‚
â”‚          return False                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¡ Broadcast Mechanism

```
                    SERVER
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚ AuctionHub  â”‚
               â”‚             â”‚
               â”‚  clients =  â”‚
               â”‚  {socket1,  â”‚
               â”‚   socket2,  â”‚
               â”‚   socket3}  â”‚
               â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚               â”‚               â”‚
      â–¼               â–¼               â–¼
  socket1         socket2         socket3
  send()          send()          send()
      â”‚               â”‚               â”‚
      â”‚               â”‚               â”‚
      â–¼               â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚CLIENT 1 â”‚     â”‚CLIENT 2 â”‚     â”‚CLIENT 3 â”‚
â”‚  "An"   â”‚     â”‚ "Binh"  â”‚     â”‚ "Cuong" â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Message: {"type":"NEW_PRICE","user":"Binh","value":1800}

â†’ ALL clients receive the SAME message at the SAME time
â†’ Realtime update!
```

---

## â±ï¸ Timer Flow

```
Server Start
     â”‚
     â”œâ”€> Start TimerThread
     â”‚        â”‚
     â”‚        â”œâ”€> Sleep 1 second
     â”‚        â”œâ”€> elapsed++
     â”‚        â”‚
     â”‚        â”œâ”€> elapsed == 110?
     â”‚        â”‚   YES â†’ Broadcast "10 giÃ¢y cÃ²n láº¡i!"
     â”‚        â”‚
     â”‚        â”œâ”€> elapsed == 115?
     â”‚        â”‚   YES â†’ Broadcast "5 giÃ¢y cÃ²n láº¡i!"
     â”‚        â”‚
     â”‚        â”œâ”€> elapsed == 120?
     â”‚        â”‚   YES â†’ End Auction
     â”‚        â”‚         â””â”€> Get winner info
     â”‚        â”‚         â””â”€> Broadcast WINNER
     â”‚        â”‚         â””â”€> Set auction.is_active = False
     â”‚        â”‚
     â”‚        â””â”€> Loop back (if not done)
     â”‚
     â””â”€> Auction ends
```

---

## ğŸ§µ Threading Model

```
Main Thread
    â”‚
    â”œâ”€> Create Server Socket
    â”œâ”€> Create AuctionState
    â”œâ”€> Create AuctionHub
    â”‚
    â”œâ”€> Start TimerThread â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                      â”‚
    â”œâ”€> Accept Loop â™¾ï¸                    â”‚
    â”‚   â”‚                                  â–¼
    â”‚   â”œâ”€> Accept Client 1       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   â”‚   â””â”€> Create Thread 1   â”‚ TimerThread  â”‚
    â”‚   â”‚       â””â”€> thread.start() â”‚   (Daemon)   â”‚
    â”‚   â”‚                          â”‚              â”‚
    â”‚   â”œâ”€> Accept Client 2        â”‚ Countdown    â”‚
    â”‚   â”‚   â””â”€> Create Thread 2    â”‚   120s       â”‚
    â”‚   â”‚       â””â”€> thread.start() â”‚              â”‚
    â”‚   â”‚                          â”‚ Broadcast    â”‚
    â”‚   â””â”€> Accept Client 3        â”‚  warnings    â”‚
    â”‚       â””â”€> Create Thread 3    â”‚              â”‚
    â”‚           â””â”€> thread.start() â”‚ End auction  â”‚
    â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”œâ”€> Threads running in parallel:
    â”‚
    â”œâ”€â”€> Thread 1 (Client 1)
    â”‚    â””â”€> recv() â™¾ï¸
    â”‚        â””â”€> handle BID
    â”‚            â””â”€> place_bid() (with Lock)
    â”‚                â””â”€> broadcast_new_price()
    â”‚
    â”œâ”€â”€> Thread 2 (Client 2)
    â”‚    â””â”€> recv() â™¾ï¸
    â”‚        â””â”€> handle BID
    â”‚            â””â”€> place_bid() (with Lock)
    â”‚                â””â”€> broadcast_new_price()
    â”‚
    â””â”€â”€> Thread 3 (Client 3)
         â””â”€> recv() â™¾ï¸
             â””â”€> handle BID
                 â””â”€> place_bid() (with Lock)
                     â””â”€> broadcast_new_price()

Note: Lock ensures only ONE thread can modify 
      current_price at a time!
```

---

## ğŸ“¦ Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CLIENT SIDE                           â”‚
â”‚                                                            â”‚
â”‚  User Input: "1500"                                       â”‚
â”‚       â”‚                                                    â”‚
â”‚       â”œâ”€> Create JSON                                     â”‚
â”‚       â”‚   {"type":"BID","user":"An","value":1500}        â”‚
â”‚       â”‚                                                    â”‚
â”‚       â””â”€> socket.send()                                   â”‚
â”‚           â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚ Network (TCP/IP)
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SERVER SIDE                           â”‚
â”‚                                                            â”‚
â”‚  ClientThread.recv()                                      â”‚
â”‚       â”‚                                                    â”‚
â”‚       â”œâ”€> Parse JSON                                      â”‚
â”‚       â”‚   message = json.loads(data)                      â”‚
â”‚       â”‚                                                    â”‚
â”‚       â”œâ”€> Extract data                                    â”‚
â”‚       â”‚   type = "BID"                                    â”‚
â”‚       â”‚   user = "An"                                     â”‚
â”‚       â”‚   value = 1500                                    â”‚
â”‚       â”‚                                                    â”‚
â”‚       â”œâ”€> Call AuctionState.place_bid()                  â”‚
â”‚       â”‚   â”‚                                                â”‚
â”‚       â”‚   â”œâ”€> ğŸ”’ Acquire Lock                            â”‚
â”‚       â”‚   â”œâ”€> Validate: 1500 > current_price?           â”‚
â”‚       â”‚   â”‚   YES â†’ Accept                               â”‚
â”‚       â”‚   â”‚   current_price = 1500                       â”‚
â”‚       â”‚   â”‚   current_winner = "An"                      â”‚
â”‚       â”‚   â””â”€> ğŸ”“ Release Lock                            â”‚
â”‚       â”‚                                                    â”‚
â”‚       â””â”€> Call AuctionHub.broadcast_new_price()          â”‚
â”‚           â”‚                                                â”‚
â”‚           â”œâ”€> Create JSON                                 â”‚
â”‚           â”‚   {"type":"NEW_PRICE","user":"An","value":1500}â”‚
â”‚           â”‚                                                â”‚
â”‚           â””â”€> For each client socket:                     â”‚
â”‚               socket.send()                               â”‚
â”‚                     â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ Network (TCP/IP)
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ALL CLIENTS                              â”‚
â”‚                                                            â”‚
â”‚  recv()                                                   â”‚
â”‚    â”‚                                                       â”‚
â”‚    â”œâ”€> Parse JSON                                         â”‚
â”‚    â”‚   {"type":"NEW_PRICE","user":"An","value":1500}    â”‚
â”‚    â”‚                                                       â”‚
â”‚    â””â”€> Display                                            â”‚
â”‚        "ğŸ’° GIÃ Má»šI: An Ä‘áº·t $1500"                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Key Concepts Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  MULTI-THREADING                            â”‚
â”‚                                                              â”‚
â”‚  Main Thread â”€â”¬â”€> Thread 1 (Client 1)                      â”‚
â”‚               â”œâ”€> Thread 2 (Client 2)                      â”‚
â”‚               â”œâ”€> Thread 3 (Client 3)                      â”‚
â”‚               â””â”€> Timer Thread                             â”‚
â”‚                                                              â”‚
â”‚  Benefits:                                                  â”‚
â”‚  âœ“ Handle multiple clients concurrently                    â”‚
â”‚  âœ“ Non-blocking I/O                                        â”‚
â”‚  âœ“ Parallel processing                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  SYNCHRONIZATION (Lock)                     â”‚
â”‚                                                              â”‚
â”‚  Shared Resource: current_price, current_winner            â”‚
â”‚                                                              â”‚
â”‚  Without Lock:    Thread 1 â”€â”€â”                             â”‚
â”‚                   Thread 2 â”€â”€â”¼â”€> ğŸ’¥ RACE CONDITION         â”‚
â”‚                   Thread 3 â”€â”€â”˜                             â”‚
â”‚                                                              â”‚
â”‚  With Lock:       Thread 1 â”€> ğŸ”’ ... ğŸ”“                   â”‚
â”‚                   Thread 2 â”€â”€â”€â”€â”€â”€â”€> ğŸ”’ ... ğŸ”“             â”‚
â”‚                   Thread 3 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> ğŸ”’ ... ğŸ”“       â”‚
â”‚                   (Sequential access)                       â”‚
â”‚                                                              â”‚
â”‚  Implementation: threading.Lock()                           â”‚
â”‚                  with lock: ...                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     BROADCAST                               â”‚
â”‚                                                              â”‚
â”‚  One message â†’ Many recipients                             â”‚
â”‚                                                              â”‚
â”‚       Server                                                â”‚
â”‚         â”‚                                                    â”‚
â”‚    â”Œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”                                             â”‚
â”‚    â”‚    â”‚    â”‚                                             â”‚
â”‚    â–¼    â–¼    â–¼                                             â”‚
â”‚   C1   C2   C3                                             â”‚
â”‚                                                              â”‚
â”‚  Use case: NEW_PRICE, WINNER, WARNING                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  SOCKET PROGRAMMING                         â”‚
â”‚                                                              â”‚
â”‚  TCP/IP (Reliable, Connection-oriented)                    â”‚
â”‚                                                              â”‚
â”‚  Server:                  Client:                           â”‚
â”‚  1. socket()             1. socket()                        â”‚
â”‚  2. bind()               2. connect()                       â”‚
â”‚  3. listen()             3. send()/recv()                   â”‚
â”‚  4. accept() â™¾ï¸                                            â”‚
â”‚  5. send()/recv()                                          â”‚
â”‚                                                              â”‚
â”‚  Protocol: JSON over TCP                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ PhÃ¢n tÃ­ch tá»«ng thÃ nh pháº§n

### 1. main_server.py (NgÆ°á»i 1)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         main_server.py              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Responsibilities:                  â”‚
â”‚  â€¢ Create listener socket           â”‚
â”‚  â€¢ Bind to 0.0.0.0:9999            â”‚
â”‚  â€¢ Accept loop                      â”‚
â”‚  â€¢ Create thread for each client    â”‚
â”‚  â€¢ Handle Ctrl+C (graceful shutdown)â”‚
â”‚  â€¢ Coordinate all components        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Key Functions:                     â”‚
â”‚  â€¢ start_server()                   â”‚
â”‚  â€¢ signal_handler()                 â”‚
â”‚  â€¢ shutdown_server()                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. client_thread.py (NgÆ°á»i 1)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         client_thread.py            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Responsibilities:                  â”‚
â”‚  â€¢ Handle ONE client connection     â”‚
â”‚  â€¢ Receive messages (recv loop)     â”‚
â”‚  â€¢ Parse JSON                       â”‚
â”‚  â€¢ Handle BID requests              â”‚
â”‚  â€¢ Send responses (WELCOME, ERROR)  â”‚
â”‚  â€¢ Cleanup on disconnect            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Key Functions:                     â”‚
â”‚  â€¢ run() - Main thread loop         â”‚
â”‚  â€¢ handle_message()                 â”‚
â”‚  â€¢ send_welcome()                   â”‚
â”‚  â€¢ cleanup()                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. auction_logic.py (NgÆ°á»i 2)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         auction_logic.py            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Responsibilities:                  â”‚
â”‚  â€¢ Store auction state              â”‚
â”‚    - current_price                  â”‚
â”‚    - current_winner                 â”‚
â”‚    - is_active                      â”‚
â”‚  â€¢ Validate bids                    â”‚
â”‚  â€¢ ğŸ”’ Lock for thread-safety        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Key Functions:                     â”‚
â”‚  â€¢ place_bid() â† with lock!         â”‚
â”‚  â€¢ get_current_price()              â”‚
â”‚  â€¢ get_current_winner()             â”‚
â”‚  â€¢ end_auction()                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. auction_hub.py (NgÆ°á»i 2)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          auction_hub.py             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Responsibilities:                  â”‚
â”‚  â€¢ Manage client list               â”‚
â”‚    clients = {socket: id}           â”‚
â”‚  â€¢ Add/remove clients               â”‚
â”‚  â€¢ Broadcast messages to ALL        â”‚
â”‚  â€¢ Handle disconnections            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Key Functions:                     â”‚
â”‚  â€¢ add_client()                     â”‚
â”‚  â€¢ remove_client()                  â”‚
â”‚  â€¢ broadcast_message()              â”‚
â”‚  â€¢ broadcast_new_price()            â”‚
â”‚  â€¢ broadcast_winner()               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5. timer_thread.py (NgÆ°á»i 4)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         timer_thread.py             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Responsibilities:                  â”‚
â”‚  â€¢ Countdown from 120 seconds       â”‚
â”‚  â€¢ Send warnings at 10s, 5s         â”‚
â”‚  â€¢ End auction when time's up       â”‚
â”‚  â€¢ Broadcast WINNER                 â”‚
â”‚  â€¢ Can be stopped early             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Key Functions:                     â”‚
â”‚  â€¢ run() - Countdown loop           â”‚
â”‚  â€¢ broadcast_warning()              â”‚
â”‚  â€¢ end_auction()                    â”‚
â”‚  â€¢ stop()                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**ğŸ’¡ Visual guide nÃ y giÃºp hiá»ƒu rÃµ kiáº¿n trÃºc há»‡ thá»‘ng!**
